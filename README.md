# Osu-Mania-7K-to-6K-Chart-Converter

把 osu!mania 的 7k 谱转成 6k 谱

## 使用方法

控制台输入: python main.py

## 谱面转换思路

7k 的 123 轨道 -> 6k 的 123 轨道

7k 的 567 轨道 -> 6k 的 456 轨道

7k 的第 4 轨道 (大拇指) 转到其他 6 轨中, 满足: 
1. 对于 hold 键, 尽量整体移到其他轨道
2. 对于 hold 键，如果无法做到 ① , 就当成 tap 键来转移
3. 对于 tap 键, 如果键型为 "切" , 则转到其他轨道后尽力仍保持 "切" 的键型
4. 对于 tap 键, 如果键型为 "叠" , 则转到随机的空位 (找不到空位就删掉这个键)

## 其他的说明
 ① 关键在于第 4 轨道怎么转移, 这个工具只是我个人的思路, 有其他的想法直接修改 process_hitobjects_block_tools.py 中的 trans_4th_track 函数

 ② 为什么对于 tap 键要尽量仍保持 "切" 的键型? 因为个人感觉例如下面的情况保持 "切" (第 1 种方式) , 破环节奏更少. 如果直接删除这个键更会导致节奏空窗
 
    _ _ _ _ _ _ O         _ _ _ _ _ O        _ _ _ _ _ O
    _ _ _ _ _ O _         _ _ _ _ O _        _ _ _ _ O _
    _ _ _ _ O _ _         _ _ _ O _ _        _ _ _ O _ _
    _ _ _ O _ _ _   -->   _ O _ _ _ _   or   _ _ O _ _ _
    _ _ O _ _ _ _         _ _ O _ _ _        _ _ O _ _ _
    _ O _ _ _ _ _         _ O _ _ _ _        _ O _ _ _ _
    O _ _ _ _ _ _         O _ _ _ _ _        O _ _ _ _ _

 ③ 为什么对于 tap 键, 如果键型为 "叠" , 转移后不尽力仍保持 "叠" 的键型?
1. 如果 "叠" 不是由第 4 轨按键导致的, 那么随机转移后键型仍为 "叠"
2. 如果是由第 4 轨导致的, 那么如果仍追求保持 "叠" , 可能存在下面的情况, 此时第 2 行找不到一个位置, 使得转移后仍保持 "叠" , 会导致被删除, 造成空白

       _ _ _ O _ _ _
       _ _ _ O _ _ _
       _ _ _ O _ _ _

 ④ 为什么要有这个工具? 因为 4k 手速不够, 7k 大拇指摁不动, 6k 的谱面又比较少. 如果想把 6k 作为 7k 的练习过渡, 这个工具也可以拿来用

 ⑤ 未完成的功能: 支持对 v12 格式谱面的转换
     
   


